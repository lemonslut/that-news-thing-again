<header class="mb-8">
  <div class="flex items-center gap-3 mb-2">
    <span class="badge solid <%= concept_type_color(@concept.concept_type) %>"><%= @concept.concept_type %></span>
    <h1 class="text-3xl font-bold"><%= @concept.label %></h1>
  </div>
  <p class="text-base-content/60"><%= @articles.total_count %> articles mention this concept</p>
  <nav class="flex gap-4 mt-4">
    <%= link_to "Back to Concepts", concepts_path, class: "btn outline info sm" %>
  </nav>
</header>

<main class="space-y-6">
  <% @articles.each do |article| %>
    <article class="border-b border-base-300 pb-6">
      <div class="flex items-center gap-2 mb-2 flex-wrap">
        <% if article.primary_category %>
          <span class="badge solid <%= category_color(article.primary_category) %> sm"><%= article.primary_category.short_name %></span>
        <% end %>
      </div>
      <div class="flex items-center gap-2 mb-2 text-sm text-base-content/50">
        <span><%= article.source_name %></span>
        <span>&middot;</span>
        <time datetime="<%= article.published_at.iso8601 %>"><%= article.published_at.strftime("%b %-d") %></time>
      </div>
      <h2 class="text-xl font-semibold mb-2">
        <%= link_to article.title, article_path(article), class: "hover:text-primary transition-colors" %>
      </h2>
      <% if article.calm_summaries.any? %>
        <p class="text-base-content/70"><%= article.calm_summaries.last.summary %></p>
      <% end %>
    </article>
  <% end %>
</main>

<nav class="flex items-center justify-center gap-2 mt-8">
  <%= paginate @articles %>
</nav>
